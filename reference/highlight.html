<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Query graphical elements in multiple linked views — highlight • rOpenSci: plotly</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="/apple-touch-icon.png">

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>


<!-- docsearch -->
<script src="../docsearch.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.3/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous" />
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>


<!-- Bootstrap -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/all.min.css" integrity="sha256-PbSmjxuVAzJ6FPvNYsrXygfGhNJYyZ2GktDbkMBqQZg=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/v4-shims.min.css" integrity="sha256-A6jcAdwFD48VMjlI3GDxUd+eCQa7/KWy6G9oe/ovaPA=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>

<!-- ropensci -->
<link href="../ropensci.css" rel="stylesheet">

<meta property="og:title" content="Query graphical elements in multiple linked views — highlight" />
<meta property="og:description" content="This function sets a variety of options for brushing (i.e., highlighting)
multiple plots. These options are primarily designed for linking
multiple plotly graphs, and may not behave as expected when linking
plotly to another htmlwidget package via crosstalk. In some cases,
other htmlwidgets will respect these options, such as persistent selection
in leaflet (see demo(&quot;highlight-leaflet&quot;, package = &quot;plotly&quot;))." />
<meta name="twitter:card" content="summary" />






<!-- Matomo -->
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.css" />
<script src="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.js" data-cfasync="false"></script>
<script src="https://ropensci.org/scripts/matomo.js"></script>
<noscript><p><img src="https://ropensci.matomo.cloud/matomo.php?idsite=1&amp;rec=1" style="border:0;" alt="" /></p></noscript>

<!-- End Matomo Code -->

  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div class="navbar-brand-container">
        <a href="https://ropensci.org"><img src="https://ropensci.org/img/icon_short_white.svg" id="hexlogo" alt="rOpenSci" /></a>
        <a class="navbar-brand" href="../index.html"><i>plotly <small>v4.9.3.9000</small></i></a>
      </div>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
        <li>
  <a href="https://github.com/ropensci/plotly/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
      <form class="navbar-form navbar-right docsearch" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
        </div>
      </form>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Query graphical elements in multiple linked views</h1>
    <small class="dont-index">Source: <a href='https://github.com/ropensci/plotly/blob/master/R/highlight.R'><code>R/highlight.R</code></a></small>
    <div class="hidden name"><code>highlight.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function sets a variety of options for brushing (i.e., highlighting)
multiple plots. These options are primarily designed for linking
multiple plotly graphs, and may not behave as expected when linking
plotly to another htmlwidget package via crosstalk. In some cases,
other htmlwidgets will respect these options, such as persistent selection
in leaflet (see <code><a href='https://rdrr.io/r/utils/demo.html'>demo("highlight-leaflet", package = "plotly")</a></code>).</p>
    </div>

    <pre class="usage"><span class='fu'>highlight</span><span class='op'>(</span>
  <span class='va'>p</span>,
  on <span class='op'>=</span> <span class='st'>"plotly_click"</span>,
  <span class='va'>off</span>,
  persistent <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/options.html'>getOption</a></span><span class='op'>(</span><span class='st'>"persistent"</span>, <span class='cn'>FALSE</span><span class='op'>)</span>,
  dynamic <span class='op'>=</span> <span class='cn'>FALSE</span>,
  color <span class='op'>=</span> <span class='cn'>NULL</span>,
  selectize <span class='op'>=</span> <span class='cn'>FALSE</span>,
  defaultValues <span class='op'>=</span> <span class='cn'>NULL</span>,
  opacityDim <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/options.html'>getOption</a></span><span class='op'>(</span><span class='st'>"opacityDim"</span>, <span class='fl'>0.2</span><span class='op'>)</span>,
  selected <span class='op'>=</span> <span class='fu'><a href='attrs_selected.html'>attrs_selected</a></span><span class='op'>(</span><span class='op'>)</span>,
  debounce <span class='op'>=</span> <span class='fl'>0</span>,
  <span class='va'>...</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>p</th>
      <td><p>a plotly visualization.</p></td>
    </tr>
    <tr>
      <th>on</th>
      <td><p>turn on a selection on which event(s)? To disable on events
altogether, use <code>NULL</code>. Currently the following are supported:</p><ul>
<li><p><code>'plotly_click'</code></p></li>
<li><p><code>'plotly_hover'</code></p></li>
<li><p><code>'plotly_selected'</code>: triggered through rectangular
(layout.dragmode = 'select') or lasso (layout.dragmode = 'lasso') brush.</p></li>
</ul></td>
    </tr>
    <tr>
      <th>off</th>
      <td><p>turn off a selection on which event(s)? To disable off
events altogether, use <code>NULL</code>. Currently the following are supported:</p><ul>
<li><p><code>'plotly_doubleclick'</code>: triggered on a double mouse click while
(layout.dragmode = 'zoom') or (layout.dragmode = 'pan')</p></li>
<li><p><code>'plotly_deselect'</code>: triggered on a double mouse click while
(layout.dragmode = 'select') or (layout.dragmode = 'lasso')</p></li>
<li><p><code>'plotly_relayout'</code>: triggered whenever axes are rescaled
(i.e., clicking the home button in the modebar) or whenever the height/width
of the plot changes.</p></li>
</ul></td>
    </tr>
    <tr>
      <th>persistent</th>
      <td><p>should selections persist (i.e., accumulate)? We often
refer to the default (<code>FALSE</code>) as a 'transient' selection mode;
which is recommended, because one may switch from 'transient' to
'persistent' selection by holding the shift key.</p></td>
    </tr>
    <tr>
      <th>dynamic</th>
      <td><p>should a widget for changing selection colors be included?</p></td>
    </tr>
    <tr>
      <th>color</th>
      <td><p>character string of color(s) to use for
highlighting selections. See <code><a href='toRGB.html'>toRGB()</a></code> for valid color
specifications. If <code>NULL</code> (the default), the color of selected marks
are not altered.</p></td>
    </tr>
    <tr>
      <th>selectize</th>
      <td><p>provide a selectize.js widget for selecting keys? Note that
the label used for this widget derives from the groupName of the SharedData object.</p></td>
    </tr>
    <tr>
      <th>defaultValues</th>
      <td><p>a vector of values for setting a "default selection".
These values should match the key attribute.</p></td>
    </tr>
    <tr>
      <th>opacityDim</th>
      <td><p>a number between 0 and 1 used to reduce the
opacity of non-selected traces (by multiplying with the existing opacity).</p></td>
    </tr>
    <tr>
      <th>selected</th>
      <td><p>attributes of the selection, see <code><a href='attrs_selected.html'>attrs_selected()</a></code>.</p></td>
    </tr>
    <tr>
      <th>debounce</th>
      <td><p>amount of time to wait before firing an event (in milliseconds).
The default of 0 means do not debounce at all.
Debouncing is mainly useful when <code>on = "plotly_hover"</code> to avoid firing too many events
when users clickly move the mouse over relevant graphical marks.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>currently not supported.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p><a href='https://plotly-r.com/client-side-linking.html'>https://plotly-r.com/client-side-linking.html</a></p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='attrs_selected.html'>attrs_selected()</a></code></p></div>
    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>Carson Sievert</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='co'># These examples are designed to show you how to highlight/brush a *single*</span>
<span class='co'># view. For examples of multiple linked views, see `demo(package = "plotly")` </span>

<span class='va'>d</span> <span class='op'>&lt;-</span> <span class='fu'><a href='highlight_key.html'>highlight_key</a></span><span class='op'>(</span><span class='va'>txhousing</span>, <span class='op'>~</span><span class='va'>city</span><span class='op'>)</span>
<span class='va'>p</span> <span class='op'>&lt;-</span> <span class='fu'>ggplot</span><span class='op'>(</span><span class='va'>d</span>, <span class='fu'>aes</span><span class='op'>(</span><span class='va'>date</span>, <span class='va'>median</span>, group <span class='op'>=</span> <span class='va'>city</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span> <span class='fu'>geom_line</span><span class='op'>(</span><span class='op'>)</span>
<span class='va'>gg</span> <span class='op'>&lt;-</span> <span class='fu'><a href='ggplotly.html'>ggplotly</a></span><span class='op'>(</span><span class='va'>p</span>, tooltip <span class='op'>=</span> <span class='st'>"city"</span><span class='op'>)</span> 
<span class='fu'>highlight</span><span class='op'>(</span><span class='va'>gg</span>, dynamic <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='message'>Adding more colors to the selection color palette.</span></div><div class='output co'>#&gt; <span class='message'>Setting the `off` event (i.e., 'plotly_doubleclick') to match the `on` event (i.e., 'plotly_click'). You can change this default via the `highlight()` function.</span></div><div class='input'>
<span class='co'># supply custom colors to the brush </span>
<span class='va'>cols</span> <span class='op'>&lt;-</span> <span class='fu'><a href='toRGB.html'>toRGB</a></span><span class='op'>(</span><span class='fu'>RColorBrewer</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/RColorBrewer/man/ColorBrewer.html'>brewer.pal</a></span><span class='op'>(</span><span class='fl'>3</span>, <span class='st'>"Dark2"</span><span class='op'>)</span>, <span class='fl'>0.5</span><span class='op'>)</span>
<span class='fu'>highlight</span><span class='op'>(</span><span class='va'>gg</span>, on <span class='op'>=</span> <span class='st'>"plotly_hover"</span>, color <span class='op'>=</span> <span class='va'>cols</span>, dynamic <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='message'>Setting the `off` event (i.e., 'plotly_doubleclick') to match the `on` event (i.e., 'plotly_hover'). You can change this default via the `highlight()` function.</span></div><div class='input'>
<span class='co'># Use attrs_selected() for complete control over the selection appearance</span>
<span class='co'># note any relevant colors you specify here should override the color argument</span>
<span class='va'>s</span> <span class='op'>&lt;-</span> <span class='fu'><a href='attrs_selected.html'>attrs_selected</a></span><span class='op'>(</span>
  showlegend <span class='op'>=</span> <span class='cn'>TRUE</span>,
  mode <span class='op'>=</span> <span class='st'>"lines+markers"</span>,
  marker <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>symbol <span class='op'>=</span> <span class='st'>"x"</span><span class='op'>)</span>
<span class='op'>)</span>

<span class='fu'>highlight</span><span class='op'>(</span><span class='fu'><a href='layout.html'>layout</a></span><span class='op'>(</span><span class='va'>gg</span>, showlegend <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>, selected <span class='op'>=</span> <span class='va'>s</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='message'>Setting the `off` event (i.e., 'plotly_doubleclick') to match the `on` event (i.e., 'plotly_click'). You can change this default via the `highlight()` function.</span></div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <!-- begin footer -->
<div class="footer">
    <div class="container">
        <div class="row start bottom-8">
            <div class="col-xs-2"> <img id="footerlogo" src="https://ropensci.org/img/icon_short_white.svg" /></div>
            <div class="col-xs-10">
                <div class="row">
                    <div class="col-md-4 col-xs-6">
                        <a href="http://github.com/ropensci" target="_blank"><div class="icon fab fa-github"></div></a>
                        <a href="http://github.com/ropenscilabs" target="_blank"><div class="icon fa fa-flask"></div></a>
                        <a href="http://twitter.com/ropensci" target="_blank"><div class="icon fab fa-twitter"></div></a>
                        <a href="http://vimeo.com/ropensci" target="_blank"><div class="icon fab fa-vimeo"></div></a>
                    </div>
                </div>
                <div class="row top-4">
                    <div class="col-md-2 col-sm-4">
                        <ul>
                            <h5 class="bottom-2">About</h5>
                            <li><a href="https://ropensci.org/about">About rOpenSci</a></li>
                            <li><a href="https://ropensci.org/software-review">Software Review Process</a></li>
                            <li><a href="https://ropensci.org/about#team">Our Team</a></li>
                            <li><a href="https://ropensci.org/careers">Jobs</a></li>
                            <li><a href="https://ropensci.org/donate">Donate</a></li>
                            <li><a href="https://ropensci.org/contact">Contact Us</a></li>
                        </ul>
                    </div>
                    <div class="col-md-3 col-sm-4">
                        <ul>
                            <h5 class="bottom-2">Community</h5>
                            <li><a href="https://ropensci.org/community/">Our Community</a></li>
                            <li><a href="https://ropensci.org/commcalls/">Community calls</a></li>
                            <li><a href="https://ropensci.org/events/">Events</a></li>
                            <li><a href="https://discuss.ropensci.org/">Join the Discussion</a></li>
                            <li><a href="https://ropensci.org/code-of-conduct">Code of conduct</a></li>
                        </ul>
                    </div>
                    <div class="col-md-2 col-sm-4">
                        <ul>
                            <h5 class="bottom-2">Resources</h5>
                            <li><a href="https://ropensci.org/packages/">Packages</a></li>
                            <li><a href="https://ropensci.org/usecases/">Use Cases</a></li>
                            <li><a href="https://ropensci.org/talks-papers/">Talks & Publications</a></li>
                            <li><a href="https://docs.ropensci.org/">Documentation</a></li>
                            <li><a href="https://ropensci.org/how-to-cite-ropensci/">Cite rOpenSci</a></li>
                        </ul>
                    </div>
                    <div class="col-md-4 col-xs-12">
                        <h5 class="bottom-2"></h5>

                        <p>rOpenSci is a fiscally sponsored project of <a href="http://numfocus.org" target="_blank">NumFOCUS</a></p>
                        <a href="http://numfocus.org" target="_blank"></a>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- / end footer -->

      </footer>
   </div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script>
<script>
  docsearch({
    
    
    apiKey: '799829e946e1f0f9cd5b5a782c6316b9',
    indexName: 'ropensci-plotly',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>



  </body>
</html>


